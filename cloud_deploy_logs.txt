agentadmin@cloud-ai-example:~/deployment-example$ python3 deploy.py --type cloud --logs
Cloud deployment: Including Caddy service
Showing logs for cloud deployment...
Running: docker compose -p pydantic-agent -f docker-compose.yml -f docker-compose.caddy.yml logs -f
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agent-api-1  | INFO:     Started server process [1]
agent-api-1  | INFO:     Waiting for application startup.
agent-api-1  | ERROR:    Traceback (most recent call last):
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
agent-api-1  |     async with self.lifespan_context(app) as maybe_state:
agent-api-1  |   File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
agent-api-1  |     return await anext(self.gen)
agent-api-1  |            ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/agent_api.py", line 66, in lifespan
agent-api-1  |     supabase = get_supabase_client()
agent-api-1  |                ^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/app/clients.py", line 111, in get_supabase_client
agent-api-1  |     return create_client(
agent-api-1  |            ^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 369, in create_client
agent-api-1  |     return SyncClient.create(
agent-api-1  |            ^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 101, in create
agent-api-1  |     client = cls(supabase_url, supabase_key, options)
agent-api-1  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
agent-api-1  |   File "/usr/local/lib/python3.11/site-packages/supabase/_sync/client.py", line 59, in __init__
agent-api-1  |     raise SupabaseException("Invalid URL")
agent-api-1  | supabase._sync.client.SupabaseException: Invalid URL
agent-api-1  |
agent-api-1  | ERROR:    Application startup failed. Exiting.
agent-api-1  | [AGENT-INIT] MCP server not reachable at http://localhost:3001/sse, continuing without code execution
agentadmin@cloud-ai-example:~/deployment-example$